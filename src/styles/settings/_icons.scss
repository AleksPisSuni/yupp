@use "cv" as *;
@import "lib/legacy-selectors";

/* SETTINGS SIDEBAR ICONS */
%settingsSidebar {

	// USER SETTINGS
	[aria-label="USER_SETTINGS"] & {

		// ICON MAP
		$icons: (
			"My Account": "https://alekspissuni.gitlab.io/icons/person.svg",
			"Privacy & Safety": "https://alekspissuni.gitlab.io/icons/security.svg",
			"Authorized Apps": "https://alekspissuni.gitlab.io/icons/apps.svg",
			"Connections": "https://alekspissuni.gitlab.io/icons/link.svg",
			"Billing": "https://alekspissuni.gitlab.io/icons/payment.svg",

			"Discord Nitro": "https://alekspissuni.gitlab.io/icons/nitro.svg",
			"Server Boost": "https://alekspissuni.gitlab.io/icons/server_boost.svg",
			"HypeSquad": "https://alekspissuni.gitlab.io/icons/hypesquad.svg",

			"Voice & Video": "https://alekspissuni.gitlab.io/icons/mic.svg",
			"Overlay": "https://alekspissuni.gitlab.io/icons/aspect_ratio.svg",
			"Notifications": "https://alekspissuni.gitlab.io/icons/notifications.svg",
			"Keybinds": "https://alekspissuni.gitlab.io/icons/keyboard.svg",
			"Game Activity": "https://alekspissuni.gitlab.io/icons/games.svg",
			"Activity Feed": "https://alekspissuni.gitlab.io/icons/newspaper.svg",
			"Game Library": "https://alekspissuni.gitlab.io/icons/view_carousel.svg",
			"Text & Images": "https://alekspissuni.gitlab.io/icons/chat.svg",
			"Appearance": "https://alekspissuni.gitlab.io/icons/camera.svg",
			"Streamer Mode": "https://alekspissuni.gitlab.io/icons/videocam.svg",
			"Language": "https://alekspissuni.gitlab.io/icons/language.svg",
			"Windows Settings": "https://alekspissuni.gitlab.io/icons/windows.svg",
			"Linux Settings": "https://alekspissuni.gitlab.io/icons/linux.svg",

			"Change Log": "https://alekspissuni.gitlab.io/icons/history.svg",
			"Experiments": "https://alekspissuni.gitlab.io/icons/flask.svg",
			"Developer Options": "https://alekspissuni.gitlab.io/icons/bug.svg",

			"Log Out": "https://alekspissuni.gitlab.io/icons/exit.svg"
		);

		// SETTINGS LISTS
		$general: cv("disc:settings.general");
		$windows: cv("disc:settings.windows");
		$osx: cv("disc:settings.osx");
		$linux: cv("disc:settings.linux");
		$web: cv("disc:settings.web");

		// GENERAL STYLES
		%tabBarItem {
			padding-left: 50px !important;
			&::before {
				content: "";
				position: absolute;
				width: 24px;
				height: 24px;
				left: 15px;
				margin-top: -2px;
			}
		}

		// ICON STYLES
		@each $i, $u in $icons {
			$id: unique-id();
			%tabBarItem%#{$id}:before {
				background-image: url(#{$u});
			}
			@if (index($general, $i)) {
				:nth-child(#{index($general, $i) + 1}) {
					@extend %#{$id};
				}
			}
			@if (index($windows, $i)) {
				%platformWin & :nth-child(#{index($windows, $i) + length($general) + 1}) {
					@extend %#{$id};
				}
			}
			@if (index($osx, $i)) {
				%platformOSX & :nth-child(#{index($osx, $i) + length($general) + 1}) {
					@extend %#{$id};
				}
			}
			@if (index($linux, $i)) {
				%platformLinux & :nth-child(#{index($linux, $i) + length($general) + 1}) {
					@extend %#{$id};
				}
			}
			@if (index($web, $i)) {
				%platformWeb & :nth-child(#{index($web, $i) + length($general) + 1}) {
					@extend %#{$id};
				}
			}
		}
		%tabBarItem:nth-last-child(4)::before {
			background-image: url(#{map-get($icons, "Log Out")});
		}
	}
}